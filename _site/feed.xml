<?xml version="1.0" encoding="utf-8"?><?xml-stylesheet type="text/xml" href="/feed.xslt.xml"?><feed xmlns="http://www.w3.org/2005/Atom"><generator uri="http://jekyllrb.com" version="3.2.1">Jekyll</generator><link href="/feed.xml" rel="self" type="application/atom+xml" /><link href="/" rel="alternate" type="text/html" /><updated>2017-04-05T11:01:26+08:00</updated><id>/</id><title type="html">DSLâ€™Blog</title><subtitle>æˆ‘å«è‘£è¯—ç£Š,æˆ‘å°±æ˜¯ä¸€ç å†œ.æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢</subtitle><entry><title type="html">2017-04-05 è¯­å½•</title><link href="/morning-saying/" rel="alternate" type="text/html" title="2017-04-05 è¯­å½•" /><published>2017-04-05T00:00:00+08:00</published><updated>2017-04-05T00:00:00+08:00</updated><id>/morning-saying</id><content type="html" xml:base="/morning-saying/">&lt;h1 id=&quot;2017-04-05-è¯­å½•&quot;&gt;2017-04-05 è¯­å½•&lt;/h1&gt;

&lt;hr /&gt;
&lt;h2 id=&quot;èº«å®‰ä¸å¦‚å¿ƒå®‰å±‹å®½ä¸å¦‚å¿ƒå®½ä»¥è‡ªç„¶ä¹‹é“å…»è‡ªç„¶ä¹‹èº«ä»¥å–œæ‚¦ä¹‹èº«å…»å–œæ‚¦ä¹‹ç¥æœ‰æ‰€ç•æƒ§æ˜¯åšäººæœ€åŸºæœ¬çš„è‰¯å¿ƒå‡†åˆ™æ‰€è°“å¿«ä¹ä¸æ˜¯è´¢å¯Œå¤šè€Œæ˜¯æ¬²æœ›å°‘åšäººäººå“ä¸ºå…ˆæ‰èƒ½ä¸ºæ¬¡åšäº‹æ˜ç†ä¸ºå…ˆå‹¤å¥‹ä¸ºæ¬¡äººç”Ÿè¦å­¦ä¼šä¸æŠ±æ€¨ä¸ç­‰å¾…ä¸ç›²ä»&quot;&gt;èº«å®‰ï¼Œä¸å¦‚å¿ƒå®‰ï¼›å±‹å®½ï¼Œä¸å¦‚å¿ƒå®½ã€‚ä»¥è‡ªç„¶ä¹‹é“ï¼Œå…»è‡ªç„¶ä¹‹èº«ï¼›ä»¥å–œæ‚¦ä¹‹èº«ï¼Œå…»å–œæ‚¦ä¹‹ç¥ã€‚æœ‰æ‰€ç•æƒ§ï¼Œæ˜¯åšäººæœ€åŸºæœ¬çš„è‰¯å¿ƒå‡†åˆ™ã€‚æ‰€è°“å¿«ä¹ï¼Œä¸æ˜¯è´¢å¯Œå¤šè€Œæ˜¯æ¬²æœ›å°‘ã€‚åšäººï¼Œäººå“ä¸ºå…ˆï¼Œæ‰èƒ½ä¸ºæ¬¡ï¼›åšäº‹ï¼Œæ˜ç†ä¸ºå…ˆï¼Œå‹¤å¥‹ä¸ºæ¬¡ã€‚äººç”Ÿè¦å­¦ä¼šä¸æŠ±æ€¨ï¼Œä¸ç­‰å¾…ï¼Œä¸ç›²ä»ã€‚&lt;/h2&gt;
&lt;p&gt;ç¾å¥½çš„ä¸€å¤©ä»è‡ªç„¶å¼€å§‹ï¼&lt;/p&gt;</content><summary type="html">2017-04-05 è¯­å½•</summary></entry><entry><title type="html">iOSæ²™ç›’æ–‡ä»¶å¤„ç†</title><link href="/sand-box/" rel="alternate" type="text/html" title="iOSæ²™ç›’æ–‡ä»¶å¤„ç†" /><published>2017-04-02T11:59:21+08:00</published><updated>2017-04-02T11:59:21+08:00</updated><id>/sand-box</id><content type="html" xml:base="/sand-box/">&lt;p&gt;æˆ‘æœ€è¿‘åœ¨åšé¡¹ç›®çš„æ—¶å€™ä¼šç”¨åˆ°å…³äºæ²™ç›’çš„å¤„ç†ï¼Œä»¥ä¸‹æ˜¯å¸¸ç”¨çš„æ“ä½œï¼š&lt;/p&gt;

&lt;h3 id=&quot;1-æ–‡ä»¶å†™å…¥æ“ä½œ&quot;&gt;1. æ–‡ä»¶å†™å…¥æ“ä½œ&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;#pragma markæ–‡ä»¶å†™å…¥æ“ä½œ

-(void)writeImageFileToDocument {

//å£°æ˜ä¸€ä¸ªæ–‡ä»¶ç®¡ç†å™¨

NSFileManager*manger = [NSFileManagerdefaultManager];

//è·å–æ²™ç›’è·¯å¾„

NSString* writePath = [NSHomeDirectory()stringByAppendingPathComponent:@&quot;/Documents&quot;];

//æ–‡ä»¶è·¯å¾„

NSString*imagePath=[writePathstringByAppendingPathComponent:@&quot;DSL.jpg&quot;];

if([mangerfileExistsAtPath:imagePath]) {

NSLog(@&quot; image is exist&quot;);

return;

}
//å°†å›¾ç‰‡å†™åˆ°æ²™ç›’ä¸­

NSString*sourcePath = [[NSBundlemainBundle]pathForResource:@&quot;1.jpg&quot;ofType:nil];

NSData*iamgeData = [NSDatadataWithContentsOfFile:sourcePath];

if([iamgeDatawriteToFile:imagePathatomically:YES]) {

NSLog(@&quot;write image success&quot;);

}
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;2æ–‡ä»¶è¯»å–æ“ä½œ&quot;&gt;2.æ–‡ä»¶è¯»å–æ“ä½œ&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;#pragma markæ–‡ä»¶è¯»å–æ“ä½œ

- (void)readImageFileFromDocument{

//è·å–è·¯å¾„

NSString* imagePath = [NSHomeDirectory()stringByAppendingPathComponent:@&quot;/Documents/DSL.jpg&quot;];

//æ˜¾ç¤º

self.successImage.image= [UIImageimageWithContentsOfFile:imagePath];

}

&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;3åˆ é™¤æ–‡ä»¶æ“ä½œ&quot;&gt;3.åˆ é™¤æ–‡ä»¶æ“ä½œ&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;#pragma markåˆ é™¤æ–‡ä»¶æ“ä½œ

- (void)deleteDocument{

//è·å–è·¯å¾„

NSString* imagePath = [NSHomeDirectory()stringByAppendingPathComponent:@&quot;/Documents/DSL.jpg&quot;];

NSFileManager*manger = [NSFileManagerdefaultManager];

NSError* error;

[mangerremoveItemAtPath:imagePatherror:&amp;amp;error];

if(error) {

NSLog(@&quot;delete error == %@&quot;,[errorlocalizedDescription]);

}else{

NSLog(@&quot; delete success&quot;);

}

}
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;3åœ¨æ²™ç›’ä¸­æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹&quot;&gt;3.åœ¨æ²™ç›’ä¸­æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;
#pragma markåœ¨æ²™ç›’ä¸­æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹

- (void)createFilder

{

//æ²™ç›’æ–‡ä»¶çš„è·¯å¾„

NSString* documentStr = [NSHomeDirectory()stringByAppendingPathComponent:@&quot;/Documents&quot;];

//æ–°çš„æ–‡ä»¶çš„è·¯å¾„

NSString* newFilderPath = [documentStrstringByAppendingPathComponent:@&quot;/DSLFilder&quot;];

NSFileManager* manger = [NSFileManagerdefaultManager];

NSError* error;

//åˆ›å»ºæ“ä½œ

[mangercreateDirectoryAtPath:newFilderPathwithIntermediateDirectories:YESattributes:nilerror:&amp;amp;error];

if(error) {

NSLog(@&quot;create filder failed == %@&quot;,[errorlocalizedDescription]);

}else{

NSLog(@&quot;create filder success&quot;);

}

}

&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;4ç»™æ–°å»ºçš„æ–‡ä»¶å†™å…¥ä¸€ä¸ªå¼ å›¾ç‰‡&quot;&gt;4.ç»™æ–°å»ºçš„æ–‡ä»¶å†™å…¥ä¸€ä¸ªå¼ å›¾ç‰‡&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;#pragma markç»™æ–°å»ºçš„æ–‡ä»¶å†™å…¥ä¸€ä¸ªå¼ å›¾ç‰‡

- (void)writeImageToNewFilder{

//æ–°çš„æ–‡ä»¶çš„è·¯å¾„

NSString* documentStr = [NSHomeDirectory()stringByAppendingPathComponent:@&quot;/Documents/DSLFilder/DSL.jpg&quot;];

//å°†å›¾ç‰‡å†™åˆ°æ²™ç›’ä¸­

NSString*sourcePath = [[NSBundlemainBundle]pathForResource:@&quot;1.jpg&quot;ofType:nil];

NSError* error;

[[NSFileManagerdefaultManager]copyItemAtPath:sourcePathtoPath:documentStrerror:&amp;amp;error];

//è¿™é‡Œç”¨copy

if(error) {

NSLog(@&quot;write image failed==%@&quot;,[errorlocalizedDescription]);

}else{

NSLog(@&quot;write image success&quot;);

}

}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;5è·å–æŸä¸ªç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å&quot;&gt;5.è·å–æŸä¸ªç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;#pragma markè·å–æŸä¸ªç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å

- (void)getAllDocumentName{

//è·å–éœ€è¦æŸ¥æ‰¾çš„è·¯å¾„

NSString* documentPath = [NSHomeDirectory()stringByAppendingPathComponent:@&quot;/Documents/DSLFilder&quot;];

NSArray* namesArray =nil;

NSError* error;

namesArray = [[NSFileManagerdefaultManager]contentsOfDirectoryAtPath:documentPatherror:&amp;amp;error];

if(error) {

}else

{

[namesArrayenumerateObjectsUsingBlock:^(id_Nonnullobj,NSUIntegeridx,BOOL*_Nonnullstop) {

if([objhasSuffix:@&quot;jpg&quot;]) {

NSLog(@&quot;=====%@&quot;,obj);

}

}];

}

}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/dslcoding/sandboxDealWith&quot;&gt;ç›¸å…³demo&lt;/a&gt;
æ²¡å•¦ï¼Œç»“æŸå•¦&lt;/p&gt;</content><summary type="html">æˆ‘æœ€è¿‘åœ¨åšé¡¹ç›®çš„æ—¶å€™ä¼šç”¨åˆ°å…³äºæ²™ç›’çš„å¤„ç†ï¼Œä»¥ä¸‹æ˜¯å¸¸ç”¨çš„æ“ä½œï¼š</summary></entry><entry><title type="html">iOSéšæ‰‹è®°(ä¸€)</title><link href="/iOS-note1/" rel="alternate" type="text/html" title="iOSéšæ‰‹è®°(ä¸€)" /><published>2017-04-02T11:59:21+08:00</published><updated>2017-04-02T11:59:21+08:00</updated><id>/iOS-note1</id><content type="html" xml:base="/iOS-note1/">&lt;h1 id=&quot;å¼€å‘éšæ‰‹è®°ä¸€&quot;&gt;å¼€å‘éšæ‰‹è®°(ä¸€)&lt;/h1&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;1å…³äºç»™tabbaritemè®¾ç½®å±æ€§&quot;&gt;1.å…³äºç»™tabbarItemè®¾ç½®å±æ€§&lt;/h2&gt;
&lt;h3 id=&quot;11è®¾ç½®å›¾ç‰‡&quot;&gt;1.1è®¾ç½®å›¾ç‰‡&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;childController.tabBarItem.image= [normalImageimageWithRenderingMode:UIImageRenderingModeAlwaysOriginal];

childController.tabBarItem.selectedImage= [selectedImageimageWithRenderingMode:UIImageRenderingModeAlwaysOriginal];
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;12æœªé€‰ä¸­å­—ä½“é¢œè‰²&quot;&gt;1.2æœªé€‰ä¸­å­—ä½“é¢œè‰²&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;[[UITabBarItem appearance] setTitleTextAttributes:@{NSForegroundColorAttributeName:unselectColor,NSFontAttributeName:[UIFont fontWithName:foneName size:15]} forState:UIControlStateNormal];

&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;13é€‰ä¸­å­—ä½“é¢œè‰²&quot;&gt;1.3é€‰ä¸­å­—ä½“é¢œè‰²&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;[[UITabBarItem appearance] setTitleTextAttributes:@{NSForegroundColorAttributeName:selectColor,NSFontAttributeName:[UIFont fontWithName:foneName size:15]} forState:UIControlStateSelected];

&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;2ä¹‹å‰åœ¨åšé¡¹ç›®çš„æ—¶å€™åœ¨pushç•Œé¢çš„æ—¶å€™æ€»æ˜¯å‘ç°æœ‰ç°è‰²çš„é˜´å½±åœ¨ç½‘ä¸ŠæŸ¥äº†èµ„æ–™åœ¨çŸ¥é“&quot;&gt;2.ä¹‹å‰åœ¨åšé¡¹ç›®çš„æ—¶å€™åœ¨pushç•Œé¢çš„æ—¶å€™æ€»æ˜¯å‘ç°æœ‰ç°è‰²çš„é˜´å½±ã€‚åœ¨ç½‘ä¸ŠæŸ¥äº†èµ„æ–™åœ¨çŸ¥é“&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;è‡ªä»iOS7ä¹‹åpushå¯¼èˆªæ å‡ºç°ç™½è‰²é˜´å½±ï¼Œå¯¼èˆªæ çš„èƒŒæ™¯è‰²æ˜¯é€æ˜çš„ï¼Œæˆ–è€…æ˜¯é»‘è‰²é˜´å½±ä¼°è®¡å°±æ˜¯åº•å±‚Controllerçš„èƒŒæ™¯è‰²çš„è§£å†³æ–¹æ³•æ˜¯
self.window.backgroundColor = [UIColor whiteColor];
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;3å…³äºé€šçŸ¥çš„æ³¨æ„äº‹é¡¹&quot;&gt;3.å…³äºé€šçŸ¥çš„æ³¨æ„äº‹é¡¹&lt;/h2&gt;

&lt;p&gt;###3.1åœ¨ä¸»çº¿ç¨‹ä¸Šå‘é€é€šçŸ¥&lt;/p&gt;

&lt;p&gt;###3.2æ³¨å†Œé€šçŸ¥å’Œç§»é™¤é€šçŸ¥ä¸€å®šè¦æˆå¯¹å‡ºç°ï¼Œæ¯”å¦‚åœ¨&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;//ä¸€å®šè¦æˆå¯¹å‡ºç°ï¼Œé¿å…å‡ºç°bug
- (void)viewWillAppear:(BOOL)animated

{

[super viewWillAppear:animated];

[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(NSNotificationCenterAction) name:@&quot;NSNotificationCenter&quot;object:nil];

}

- (void)viewWillDisappear:(BOOL)animated

{

[super viewWillDisappear:animated];

[[NSNotificationCenter defaultCenter] removeObserver:self name:@&quot;NSNotificationCenter&quot;object:nil];

}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;33åœ¨é€šçŸ¥ç§»é™¤çš„æ—¶å€™ä¸è¦ä½¿ç”¨&quot;&gt;3.3åœ¨é€šçŸ¥ç§»é™¤çš„æ—¶å€™ã€‚ä¸è¦ä½¿ç”¨&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;[[NSNotificationCenter defaultCenter] removeObserver:self]
å› ä¸ºä¸Šé¢é‚£ä¸ªæ–¹æ³•å¯èƒ½ä¼šæŠŠç³»ç»Ÿæ³¨å†Œçš„é€šçŸ¥ä¹Ÿç»™ç§»é™¤äº†ï¼Œä¸è¦è¿™æ ·æ“çºµï¼Œä¸€æ—¦å‡ºç°bugã€‚ä¸å®¹æ˜“å‘ç°ã€‚æ­£ç¡®çš„ç§»é™¤æ–¹å¼æ˜¯
[[NSNotificationCenter defaultCenter] removeObserver:self name:@&quot;NSNotificationCenter&quot;object:nil];
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;4è·å–æ–‡ä»¶çš„æ‰©å±•å&quot;&gt;4.è·å–æ–‡ä»¶çš„æ‰©å±•å&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;NSString *str  = @&quot;DSL.mp4&quot;;

BOOL isMp4 = [str hasSuffix:@&quot;.mp4&quot;];

//æ‹¿åˆ°å­—ç¬¦ä¸²æ‰©å±•å

NSString *extension = [str pathExtension];

if ([extension isEqualToString:@&quot;mp4&quot;]) {

NSLog(@&quot;æˆ‘æ˜¯MP4&quot;);

}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;4.è·å–cellä¸Šçš„æ§ä»¶&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;- (void)digAction:(UIButton*)btn event:(id)event

{

NSSet*touches =[eventallTouches];

UITouch*touch =[touchesanyObject];

CGPointcurrentTouchPosition = [touchlocationInView:_tableView];

NSIndexPath*indexPath= [_tableViewindexPathForRowAtPoint:currentTouchPosition];

//é€šè¿‡è¿™ä¸ªindexè·å–cell

}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æœ¬ç¯‡ç»“æŸäº†ã€‚ã€‚ã€‚&lt;/p&gt;</content><summary type="html">å¼€å‘éšæ‰‹è®°(ä¸€)</summary></entry><entry><title type="html">iOSExtensionProgramæ€»ç»“</title><link href="/iOSExtension/" rel="alternate" type="text/html" title="iOSExtensionProgramæ€»ç»“" /><published>2017-04-01T11:59:21+08:00</published><updated>2017-04-01T11:59:21+08:00</updated><id>/iOSExtension</id><content type="html" xml:base="/iOSExtension/">&lt;h1 id=&quot;iosextensionprogramæ€»ç»“&quot;&gt;iOSExtensionProgramæ€»ç»“&lt;/h1&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;1ä¸Šæ¶çš„é—®é¢˜hostappå’Œcontainingappçš„ç‰ˆæœ¬å·å¿…é¡»ä¸€è‡´&quot;&gt;1.ä¸Šæ¶çš„é—®é¢˜hostappå’Œcontainingappçš„ç‰ˆæœ¬å·å¿…é¡»ä¸€è‡´ï¼Œ&lt;/h3&gt;

&lt;h3 id=&quot;2å…³äºbundle-identifierçš„è¯hostapp-å’Œ-containingappéƒ½æ˜¯ç‹¬ç«‹çš„appæ‰€æœ‰ä½ å¿…é¡»ç”³è¯·ä¸¤ä¸ªid&quot;&gt;2.å…³äºBundle identifierçš„è¯ï¼Œhostapp å’Œ containingappéƒ½æ˜¯ç‹¬ç«‹çš„Appã€‚æ‰€æœ‰ä½ å¿…é¡»ç”³è¯·ä¸¤ä¸ªIDï¼Œ&lt;/h3&gt;

&lt;h3 id=&quot;3ä¸Šé¢çš„ç¬¬äºŒæ¡æ˜¯ç”³è¯·ä¸¤ä¸ªbundle-identifierè¿™ä¸ªä¸¤ä¸ªbundle-identifierçš„åå­—è§„åˆ™æ˜¯hostappcomdslcontainingappcomdsltodaywighté€šçŸ¥æ‰©å±•è¿˜æœ‰é”®ç›˜æ‰©å±•comdslkeyboard&quot;&gt;3.ä¸Šé¢çš„ç¬¬äºŒæ¡æ˜¯ç”³è¯·ä¸¤ä¸ªBundle identifierã€‚è¿™ä¸ªä¸¤ä¸ªBundle identifierçš„åå­—è§„åˆ™æ˜¯ï¼šhostApp:com.DSLï¼Œcontainingapp:com.DSL.todayWight(é€šçŸ¥æ‰©å±•ï¼Œè¿˜æœ‰é”®ç›˜æ‰©å±•com.DSL.keyboard)&lt;/h3&gt;

&lt;h3 id=&quot;4å…³äºcocoapodsçš„ä½¿ç”¨è¯·çœ‹æˆ‘çš„å†™çš„ä¸€ç¯‡ios-keyboarded-extension&quot;&gt;4.å…³äºcocoapodsçš„ä½¿ç”¨,è¯·çœ‹æˆ‘çš„å†™çš„ä¸€ç¯‡iOS Keyboarded Extension&lt;/h3&gt;

&lt;h3 id=&quot;5åˆ«çš„é—®é¢˜é‡è§åœ¨è¯´å§&quot;&gt;5.åˆ«çš„é—®é¢˜é‡è§åœ¨è¯´å§&lt;/h3&gt;</content><summary type="html">iOSExtensionProgramæ€»ç»“</summary></entry><entry><title type="html">å…³äºKeyboard Extension</title><link href="/keyboarded/" rel="alternate" type="text/html" title="å…³äºKeyboard Extension" /><published>2017-04-01T11:59:21+08:00</published><updated>2017-04-01T11:59:21+08:00</updated><id>/keyboarded</id><content type="html" xml:base="/keyboarded/">&lt;h1 id=&quot;å…³äºkeyboard-extension&quot;&gt;å…³äºKeyboard Extension&lt;/h1&gt;

&lt;hr /&gt;

&lt;p&gt;å†™äº†å¥½å‡ å¤©çš„keyboarded extensionï¼Œ è¯´å®è¯è¿™ä¸ªExtension æœ‰ç‚¹æ¶å¿ƒã€‚æˆ‘æ„Ÿè§‰bugæŒºå¤šçš„ï¼Œä¹Ÿä¸èƒ½è¿™æ ·è¯´ï¼Œå¯èƒ½ä¸ç»å¸¸å‡ºç°çš„bugéƒ½è®©æˆ‘é‡åˆ°äº†ã€‚ä¸‹é¢å¼€å§‹è¯´æˆ‘é‡åˆ°åˆ°äº†é‚£äº›é—®é¢˜ï¼Œä»¥åŠæ˜¯æ€ä¹ˆåšçš„ã€‚&lt;/p&gt;

&lt;p&gt;å£°æ˜ï¼šæœ¬æ–‡ç« ä¸åšæ–‡æ¡£ç¿»è¯‘ï¼Œæƒ³çœ‹ç¿»è¯‘è‡ªè¡ŒæŸ¥è¯¢.(ç½‘ä¸Šçš„éƒ½æ˜¯ç¿»è¯‘ä¸è§£å†³å®é™…é—®é¢˜ã€‚æˆ‘å·²ç»ã€‚ã€‚ã€‚ã€‚) &lt;a href=&quot;http://www.jianshu.com/p/987dfa9f3baf&quot;&gt;é”®ç›˜æ‰©å±•ç¿»è¯‘&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;1-ä»£ç åˆ†äº«hostapp-ä¸containappä»£ç åˆ†äº«å’Œtodayextortion-æ˜¯ä¸€æ ·çš„è¿™é‡Œä¸åšå¤šè¯´-todayextortion&quot;&gt;1 ä»£ç åˆ†äº«ã€‚hostApp ä¸containAppä»£ç åˆ†äº«å’ŒTodayExtortion æ˜¯ä¸€æ ·çš„ã€‚è¿™é‡Œä¸åšå¤šè¯´ TodayExtortion&lt;/h3&gt;

&lt;h3 id=&quot;2æ•°æ®å…±äº«hostapp-ä¸containappä»£ç åˆ†äº«å’Œtodayextortion-æ˜¯ä¸€æ ·çš„ä¸åšå¤šè¯´-todayextortion&quot;&gt;2æ•°æ®å…±äº«ã€‚hostApp ä¸containAppä»£ç åˆ†äº«å’ŒTodayExtortion æ˜¯ä¸€æ ·çš„ã€‚ä¸åšå¤šè¯´ TodayExtortion&lt;/h3&gt;

&lt;h3 id=&quot;3ç”³è¯·idhostapp-ä¸containappä»£ç åˆ†äº«å’Œtodayextortion-æ˜¯ä¸€æ ·çš„ä¸åšå¤šè¯´todayextortion&quot;&gt;3ç”³è¯·IDã€‚hostApp ä¸containAppä»£ç åˆ†äº«å’ŒTodayExtortion æ˜¯ä¸€æ ·çš„ã€‚ä¸åšå¤šè¯´TodayExtortion&lt;/h3&gt;

&lt;p&gt;ä»¥ä¸Šéƒ½æ˜¯å…±åŒç‚¹ï¼Œæ¯•ç«Ÿéƒ½æ˜¯æ‰©å±•ã€‚&lt;/p&gt;

&lt;p&gt;ä¸‹é¢æˆ‘è®¤ä¸ºæ˜¯é‡ç‚¹(å› ä¸ºæˆ‘æ˜¯åƒè¿‡äºçš„)ï¼š&lt;/p&gt;

&lt;h3 id=&quot;1å…³äºåœ¨æ‰©å±•ä¸­ä½¿ç”¨cocoapodsè¿™ä¸ªä¼šè€…ä¸éš¾éš¾è€…æ¶å¿ƒ&quot;&gt;1.å…³äºåœ¨æ‰©å±•ä¸­ä½¿ç”¨cocoapodsï¼Œè¿™ä¸ªä¼šè€…ä¸éš¾ï¼Œéš¾è€…æ¶å¿ƒã€‚&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆå…ˆçœ‹stackoverflow&lt;a href=&quot;http://stackoverflow.com/questions/37280077/error-with-cocoapods-link-with-after-update-to-1-0-0&quot;&gt;Extension cocoapods&lt;/a&gt;è¿™ä¸ªæ˜¯æˆ‘åœ¨æ‰©å±•ä¸­ä½¿ç”¨cocoapadså‡ºç°é—®é¢˜åœ¨stackoverflowä¸­æ‰¾åˆ°çš„ç›®å‰æˆ‘æ‰¾çš„æœ€ä½³ç­”æ¡ˆã€‚å¦‚æœè°çŸ¥é“æ›´å¥½çš„æ–¹æ³•ï¼Œç»™æˆ‘ä¹Ÿè¯´è¯´ã€‚æŒ‰ç…§è¿™ä¸ªä¸Šé¢çš„è¯´çš„ç›´æ¥å°±å¯ä»¥ç”¨åœ¨hostAppä¸containAppåˆ†åˆ«å¯¼å…¥ç›¸åº”åº“å°±å¯ä»¥äº†ã€‚
&lt;img src=&quot;http://ac-l1vX02tC.clouddn.com/5adbe79572ebbc69b073.png&quot; alt=&quot;&quot; /&gt;
ä¸»æ„ï¼šæç¤ºæ¡†å¦‚æœè¦æ˜¯ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„è¯ ï¼Œ(ç®—äº†è¿˜æ˜¯åˆ«ç”¨ç¬¬ä¸‰æ”¾äº†ï¼Œå› ä¸ºç¬¬ä¸‰æ–¹çš„æœ‰sharedApplicationï¼Œåœ¨æ‰©å±•ä¸­è·å–ä¸åˆ°sharedApplicationå¯¹è±¡)ï¼Œä¸€å®šä¸»æ„ã€‚å½“ä½ æŒ‰ç…§ä¸Šé¢çš„å†…å®¹ pod install æˆåŠŸçš„æ—¶å€™ï¼Œä½ ä¼šå‘ç°åœ¨é¡¹ç›®ä¸­çš„hostApp ä¸containAppä¸­ä½¿ç”¨çš„ä¸€äº›åº“çš„å¤´æ–‡ä»¶æŠ¥é”™ï¼Œæ„æ€æ˜¯æ‰¾ä¸åˆ°ç›¸åº”çš„æ–‡ä»¶ï¼Œé‡åˆ°è¿™ç§æƒ…å†µï¼Œåˆ«ç€æ€¥ã€‚å› ä¸ºä¸æ·»åŠ è¿™ä¸ªuse_frameworks!ï¼Œcocoapadsæ˜¯ç”¨static libraries ç®¡ç†ä»£ç çš„ï¼Œå¦‚æœæ˜¯ä½¿çš„è¯ï¼Œcocoapadsåˆ™æ˜¯ç”¨frameworkçš„å½¢å¼ç®¡ç†ä»£ç ã€‚æ‰€ä»¥ä½ å¿…é¡»åˆ†åˆ«åˆ°hostApp ä¸containApp ä¸­çš„Targetä¸­çš„BuildPhases ä¸­çš„ Linked Framework and Libraries æ·»åŠ ç›¸åº”çš„ç¬¬ä¸‰åº“ï¼Œè¿è¡Œä¸€ä¸‹ï¼Œé¡ºåˆ©é€šè¿‡ã€‚è¿™ä¸ªcocoapdså°±åˆ°æ­¤ä¸ºæ­¢ã€‚&lt;/p&gt;
&lt;h3 id=&quot;2å…³äºé”®ç›˜çš„é«˜åº¦&quot;&gt;2.å…³äºé”®ç›˜çš„é«˜åº¦&lt;/h3&gt;
&lt;p&gt;æˆ‘æµ‹è¯•è¿‡ï¼Œè®¯é£çš„é”®ç›˜çš„é«˜åº¦å¤§æ¦‚åœ¨280å·¦å³ã€‚äºæ˜¯æˆ‘ä¹Ÿæ˜¯280.ä½†æ˜¯æˆ‘å‘ç°ä¸€ä¸ªé—®é¢˜ã€‚æˆ‘çš„æ‰‹æœºæ˜¯iOS9ï¼Œä½†æ˜¯æŒ‰ç…§å®˜æ–¹æ–‡æ¡£çš„è‡ªå®šä¹‰é«˜åº¦çš„æ–¹æ³•ï¼Œä¸èµ·ä½œç”¨ï¼Œæˆ‘åœ¨iOS10å°±å¯ä»¥ã€‚äºæ˜¯æˆ‘ğŸˆ¶ï¸å»stackoverflowè½¬äº†ä¸€ä¸‹ï¼Œæ‰¾åˆ°äº†è¿™ä¸ªã€‚å°±é¡ºåˆ©è§£å†³äº†&lt;a href=&quot;http://stackoverflow.com/questions/36145450/incorrect-keyboard-extension-height-after-rotation&quot;&gt;è‡ªå®šä¹‰é”®ç›˜é«˜åº¦&lt;/a&gt;ã€‚æˆ‘å†™åœ¨viewdidloadé‡Œé¢ã€‚å°±æ˜¯åŠ è½½ä¸å‡ºæ¥ã€‚å“ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;h3 id=&quot;3åˆ‡æ¢è¾“å…¥æ³•&quot;&gt;3.åˆ‡æ¢è¾“å…¥æ³•&lt;/h3&gt;
&lt;p&gt;å®˜æ–¹æ–‡æ¡£æ˜ç¡®è¡¨ç¤ºï¼Œæ²¡æœ‰ç»™ç”¨æˆ·åˆ‡æ¢ä¸‹ä¸ªè¾“å…¥æ³•çš„ç¬¬ä¸‰æ–¹é”®ç›˜æ˜¯ä¸ä¼šè¿‡å®¡æ ¸çš„ã€‚å¤§å®¶ä¸»æ„å®‰å…¨ã€‚æˆ‘ä¸€å¼€å§‹å°±ç”¨çš„æ˜¯è¿™ä¸ªæ–¹æ³•ï¼Œ&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;- (void)handleInputModeListFromView:(nonnull UIView *)view withEvent:(nonnull UIEvent *)event NS_AVAILABLE_IOS(10_0);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨iOS10ä¸Šé¢ç”¨çš„æŒºçˆ½çš„ã€‚åˆ°iOS9ä¸Šæ€ä¹ˆæµ‹è¯•å°±æ˜¯è¡Œã€‚åæ¥çœ‹çœ‹é‚£ä¸ªåªæ˜¯é’ˆå¯¹iOS10 çš„ï¼Œå°´å°¬ã€‚ç”¨è¿™ä¸ª&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt; //iOS9 å’ŒiOS10éƒ½æ˜¯å¯ä»¥çš„ã€‚å¯ä»¥è¯•è¯•
  - (void)advanceToNextInputMode;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;4æ¨èä¸€äº›ç¬¬ä¸‰æ–¹çš„&quot;&gt;4.æ¨èä¸€äº›ç¬¬ä¸‰æ–¹çš„ã€‚&lt;/h3&gt;
&lt;p&gt;keyboard &lt;a href=&quot;https://github.com/polishedcode/tasty-imitation-keyboard&quot;&gt;Extensionç¬¬ä¸‰æ–¹&lt;/a&gt;ã€‚è¿™ä¸ªè‡ªå®šä¹‰é”®ç›˜å…¶å®ä¹Ÿä¸å¤ªéš¾ã€‚ä»–æ˜¯ä¸€ä¸ªæ§åˆ¶å™¨ UIInputViewControllerç»§æ‰¿è‡ªUIViewControllerï¼Œè¯´ç™½å°±æ˜¯ä¸€ä¸ªæ§åˆ¶å™¨ï¼Œé™¤äº†ä¸èƒ½è·å–sharedApplicationå¯¹è±¡ï¼Œåˆ«çš„è¿˜å¯ä»¥ã€‚è¿˜æœ‰å°±æ˜¯åæ ‡çš„é—®é¢˜ï¼Œè¦ä¸»æ„ä¸€ä¸‹ã€‚æ¯ä¸ªäººéƒ½æœ‰è·å–åæ ‡çš„ä¹ æƒ¯ä¸ä¸€æ ·ï¼Œæ¯”å¦‚æˆ‘æ˜¯è¿™æ ·çš„self.view.frame.size.withã€‚è¿™ä¸ªåœ¨æ‰©å±•ä¸­æ˜¯ä¸èƒ½è·å–åˆ°çš„ã€‚ä¸»æ„ã€‚&lt;/p&gt;

&lt;h3 id=&quot;5è®°å¾—æŠŠrequestsopenaccessè®¾ç½®ä¸ºyes&quot;&gt;5.è®°å¾—æŠŠRequestsOpenAccessè®¾ç½®ä¸ºYESã€‚&lt;/h3&gt;

&lt;h3 id=&quot;6è‡³ä»Šæœªè§£å†³çš„é—®é¢˜&quot;&gt;6.è‡³ä»Šæœªè§£å†³çš„é—®é¢˜ã€‚&lt;/h3&gt;
&lt;p&gt;è¯·æ±‚å¸®åŠ© æˆ‘çš„éœ€æ±‚æ˜¯æ‰©å±•é”®ç›˜ä¸Šæ”¾äº†ä¸€ä¸ªuicollectviewã€‚æ¯ä¸ªcellä¸Šéƒ½åŠ è½½ä¸€ä¸ªå›¾ç‰‡ã€‚è·å–å›¾ç‰‡çš„æ­¥éª¤ï¼šä»ç½‘ç»œä¸Šè¯·æ±‚ï¼Œè½¬åŒ–dataåœ¨è½¬æˆbase64ï¼Œç”Ÿæˆbase64å­—ç¬¦ä¸²ã€‚å­˜åˆ°æ•°æ®åº“ã€‚æ˜¾ç¤ºçš„æ—¶å€™ï¼Œå°†base64å­—ç¬¦ä¸²è½¬æˆdata åœ¨è½¬æˆimageï¼›æ¯ä¸ªå›¾ç‰‡å¤§æ¦‚æœ‰1MgifåŠ¨å›¾å§ã€‚ä¸çŸ¥æ‰å“ªä¸ªç¯èŠ‚å‡ºç°é—®é¢˜ã€‚ä»¥è‡³äºæ€»æ˜¯æŠ¥å¦‚ä¸‹çš„ä¸¤ä¸ªé”™è¯¯ã€‚(åæ¥æˆ‘ç”¨å·¥å…·æ£€æµ‹å‘ç°å†…å­˜è¹¦äº†600Mï¼Œç”¨çš„SDWebimageåŠ è½½çš„)ã€‚åæ¥ç”¨äº†å„ç§çš„æ–¹æ³•è§£å†³ä¹Ÿæ²¡è§£å†³æˆåŠŸå°±æ”¾å¼ƒäº†ã€‚&lt;/p&gt;

&lt;h3 id=&quot;61é‡è§çš„æ’ä»¶ä¸­æ–­å’ŒæœåŠ¡ä¸­æ–­ä¸‹é¢æ˜¯æœåŠ¡ä¸­æ–­çš„é”™è¯¯ä¿¡æ¯&quot;&gt;6.1é‡è§çš„æ’ä»¶ä¸­æ–­å’ŒæœåŠ¡ä¸­æ–­ã€‚ä¸‹é¢æ˜¯æœåŠ¡ä¸­æ–­çš„é”™è¯¯ä¿¡æ¯&lt;/h3&gt;

&lt;p&gt;2017-03-24 21:37:45.820834 ExpressionBaby[3672:934876] viewServiceDidTerminateWithError:: Error Domain=_UIViewServiceInterfaceErrorDomain Code=3 â€œ(null)â€ UserInfo={Message=Service Connection Interrupted} 2017-03-24 21:37:48.709876 ExpressionBaby[3672:934876] [App] if weâ€™re in the real pre-commit handler we canâ€™t actually add any new fences due to CA restriction 2017-03-24 21:37:49.222492 ExpressionBaby[3672:934876] viewServiceDidTerminateWithError:: Error Domain=_UIViewServiceInterfaceErrorDomain Code=3 â€œ(null)â€ UserInfo={Message=Service Connection Interrupted} 2017-03-24 21:37:51.231664 ExpressionBaby[3672:934876] viewServiceDidTerminateWithError:: Error Domain=_UIViewServiceInterfaceErrorDomain Code=3 â€œ(null)â€ UserInfo={Message=Service Connection Interrupted} 2017-03-24 21:37:53.225378 ExpressionBaby[3672:934876] [App] if weâ€™re in the real pre-commit handler we canâ€™t actually add any new fences due to CA restriction 2017-03-24 21:37:54.500931 ExpressionBaby[3672:934876] [App] if weâ€™re in the real pre-commit handler we canâ€™t actually add any new fences due to CA restriction 2017-03-24 21:37:55.016598 ExpressionBaby[3672:934876] viewServiceDidTerminateWithError:: Error Domain=_UIViewServiceInterfaceErrorDomain Code=3 â€œ(null)â€ UserInfo={Message=Service Connection Interrupted}&lt;/p&gt;
&lt;h3 id=&quot;61-ä¸Šæ¶è¡¥å……ä¸Šæ¶çš„æ—¶å€™ä¸€å®šè¦æœ‰æ•°å­—å’Œè‹±æ–‡é”®ç›˜å¦ä¸€ä¸ªæ˜¯åè®®å¿…é¡»è¦æœ‰çš„&quot;&gt;6.1 ä¸Šæ¶è¡¥å……ï¼Œä¸Šæ¶çš„æ—¶å€™ä¸€å®šè¦æœ‰æ•°å­—å’Œè‹±æ–‡é”®ç›˜,å¦ä¸€ä¸ªæ˜¯åè®®å¿…é¡»è¦æœ‰çš„ï¼Œ&lt;img src=&quot;http://ac-l1vX02tC.clouddn.com/7b86d88e2a3da8847506.png&quot; alt=&quot;&quot; /&gt;&lt;/h3&gt;
&lt;p&gt;åè®®å†…å®¹å°±æ˜¯å…³äºç”¨æˆ·çš„éšç§ä»€ä¹ˆçš„,å¤§æ¦‚å†…å®¹å°±æ˜¯è¦ä¿æŠ¤ç”¨æˆ·çš„éšç§.(å¿…é¡»è¦å†™çš„)&lt;/p&gt;

&lt;p&gt;æˆ‘å«è‘£è¯—ç£Šæˆ‘å°±æ˜¯ä¸€ç å†œã€‚&lt;/p&gt;</content><summary type="html">å…³äºKeyboard Extension</summary></entry><entry><title type="html">ä½¿ç”¨ç±»åˆ«(Category)å’Œæ‰©å±•(Extension)</title><link href="/Category-Extension/" rel="alternate" type="text/html" title="ä½¿ç”¨ç±»åˆ«(Category)å’Œæ‰©å±•(Extension)" /><published>2017-04-01T11:59:21+08:00</published><updated>2017-04-01T11:59:21+08:00</updated><id>/Category-Extension</id><content type="html" xml:base="/Category-Extension/">&lt;h1 id=&quot;ä½¿ç”¨ç±»åˆ«categoryå’Œæ‰©å±•extension&quot;&gt;ä½¿ç”¨ç±»åˆ«(Category)å’Œæ‰©å±•(Extension)&lt;/h1&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;1ç±»åˆ«&quot;&gt;1.ç±»åˆ«&lt;/h1&gt;
&lt;h3 id=&quot;å…ˆå»ºç«‹ä¸€ä¸ªç±»åˆ«é¡¹ç›®æˆ‘è¿™é‡Œå°±ç›´æ¥ç»™vcåŠ ä¸€ä¸ªç±»åˆ«åå­—æ˜¯nslogè®°å¾—é€‰categoryè€Œä¸”categoryæ˜¯æœ‰mæ–‡ä»¶çš„&quot;&gt;å…ˆå»ºç«‹ä¸€ä¸ªç±»åˆ«é¡¹ç›®ï¼Œæˆ‘è¿™é‡Œå°±ç›´æ¥ç»™VCåŠ ä¸€ä¸ªç±»åˆ«ã€‚åå­—æ˜¯NSLogã€‚è®°å¾—é€‰Categoryï¼Œè€Œä¸”Categoryæ˜¯æœ‰.mæ–‡ä»¶çš„ã€‚&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;http://ac-l1vX02tC.clouddn.com/b76a58836532443c945d.png&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;http://ac-l1vX02tC.clouddn.com/4171593997bcac5e30eb.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
&lt;h1 id=&quot;1å…ˆæµ‹è¯•&quot;&gt;1.å…ˆæµ‹è¯•ï¼š&lt;/h1&gt;
&lt;h2 id=&quot;11æ·»åŠ æ–¹æ³•&quot;&gt;1.1æ·»åŠ æ–¹æ³•&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;//å…ˆåœ¨.hæ–‡ä»¶ä¸­æ·»åŠ ä¸€ä¸ªæ–¹æ³•
- (void)printStr:(NSString*)str;
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;@implementationViewController (NSLog)

//åœ¨.mä¸­å®ç°

- (void)printStr:(NSString*)str

{

NSLog(@&quot;====print==%@&quot;,str);

}

@end
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;//åœ¨VCä¸­è°ƒç”¨ç±»åˆ«çš„æ–¹æ³•,è¿è¡Œ

//[self printStr:@&quot;æˆ‘å«è‘£è¯—ç£Š,æˆ‘å°±æ˜¯ä¸€ç å†œ&quot;];

//æˆåŠŸè¾“å‡º
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;12æ·»åŠ å±æ€§&quot;&gt;1.2æ·»åŠ å±æ€§&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;@interfaceViewController (NSLog)

//åœ¨æ²¡æœ‰ä½¿ç”¨runtimå»ºç«‹å…³è”å¼•ç”¨å»ºç«‹çš„å­—ç¬¦ä¸²

@property(nonatomic,copy)NSString* dsl;

////å…ˆæ·»åŠ ä¸€ä¸ªæ–¹æ³•

//- (void)printStr:(NSString *)str;

@end
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;//åœ¨VCä¸­åšèµ‹å€¼æ“ä½œï¼Œï¼Œï¼Œï¼Œï¼Œç„¶åæˆåŠŸå´©æºƒï¼Œ

self.dsl=@&quot;æˆ‘å«è‘£è¯—ç£Š,æˆ‘å°±æ˜¯ä¸€ç å†œ&quot;;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å´©æºƒçš„åŸå› 
&lt;img src=&quot;http://ac-l1vX02tC.clouddn.com/8364ed8677d3c03fa6af.png&quot; alt=&quot;&quot; /&gt;
ä¸è¯†åˆ«setæ–¹æ³•ã€‚è¿™é‡Œå°±å¯ä»¥è¯´æ˜æ˜¯å¯ä»¥æ·»åŠ å±æ€§ï¼Œä½†æ˜¯ä¸ä¼šè‡ªåŠ¨ç”Ÿæˆget,setæ–¹æ³•ã€‚ä¸è¿‡è¿™é‡Œå¯ä»¥ä½¿ç”¨runtimeå»ºç«‹å…³è”ã€‚
å¦‚æœæœ‰è¿™æ–¹é¢çš„éœ€æ±‚å¯ä»¥ç”¨runtimeå…·ä½“çš„ä¸‹é¢&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;å¯¼å…¥å¤´æ–‡ä»¶#import &amp;lt;objc/runtime.h&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;.h

@interfaceViewController (NSLog)

//å£°æ˜å±æ€§

@property(nonatomic,copy)NSString* dsl;

@end

&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;.m

static NSString*dslKEY =@&quot;dslKEY&quot;;

@implementationViewController (NSLog)

- (void)printStr:(NSString*)str

{

NSLog(@&quot;====print==%@&quot;,str);

}
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;.m

- (void)setDsl:(NSString*)dsl

{

//å››ä¸ªå‚æ•°åŸå¯¹è±¡ï¼Œå…³è”æ—¶çš„ç”¨æ¥æ ‡è®°çš„æ˜¯å“ªä¸ªå±æ€§key(å¯èƒ½è¦æ·»åŠ å¤šä¸ªå±æ€§)

objc_setAssociatedObject(self, &amp;amp;dslKEY, dsl,OBJC_ASSOCIATION_COPY);

}
- (NSString*)dsl

{

returnobjc_getAssociatedObject(self,&amp;amp;dslKEY);

}
//åœ¨VCä¸­æµ‹è¯•è¾“å‡ºå­—ç¬¦ä¸²å­—ç¬¦ä¸²

self.dsl=@&quot;æˆ‘å«è‘£è¯—ç£Š,æˆ‘å°±æ˜¯ä¸€ç å†œ&quot;;

NSLog(@&quot;====use runtime ===%@&quot;,self.dsl);

æˆåŠŸè¾“å‡º
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»¥ä¸Šéƒ½æ˜¯Categoryæ·»åŠ å±æ€§å’Œæ–¹æ³•
æˆ‘çš„ç†è§£æ˜¯ï¼š&lt;/p&gt;

&lt;h1 id=&quot;11ç±»åˆ«å°±æ˜¯æ‰©å±•ç±»å¯ä»¥æ·»åŠ æ–¹æ³•ä¸èƒ½æ·»åŠ æˆå‘˜å˜é‡&quot;&gt;1.1ç±»åˆ«å°±æ˜¯æ‰©å±•ç±»å¯ä»¥æ·»åŠ æ–¹æ³•ã€‚ä¸èƒ½æ·»åŠ æˆå‘˜å˜é‡ã€‚&lt;/h1&gt;

&lt;h3 id=&quot;12å¦‚æœæ·»åŠ propertyçš„è¯ç¼–è¯‘æ˜¯æ²¡æœ‰é—®é¢˜ä½†æ˜¯è¿è¡Œçš„æ—¶å€™å°±ä¼šæŠ¥é”™çš„ä¹Ÿå¯ä»¥ç”¨runtimeæ¥å…³è”å¼•ç”¨å®ç°æ·»åŠ å±æ€§&quot;&gt;1.2å¦‚æœæ·»åŠ @propertyçš„è¯ç¼–è¯‘æ˜¯æ²¡æœ‰é—®é¢˜ã€‚ä½†æ˜¯è¿è¡Œçš„æ—¶å€™å°±ä¼šæŠ¥é”™çš„ã€‚ä¹Ÿå¯ä»¥ç”¨runtimeæ¥å…³è”å¼•ç”¨å®ç°æ·»åŠ å±æ€§ã€‚&lt;/h3&gt;

&lt;h3 id=&quot;13å¦‚æœç±»åˆ«çš„æ–¹æ³•å’ŒåŸç±»çš„æ–¹æ³•åé‡å¤çš„è¯ä¼˜å…ˆè°ƒç”¨ç±»åˆ«çš„æ–¹æ³•åŸç±»çš„çŠ¯æ³•ä¼šå¿½ç•¥å°½é‡åˆ«è¿™æ ·&quot;&gt;1.3å¦‚æœç±»åˆ«çš„æ–¹æ³•å’ŒåŸç±»çš„æ–¹æ³•åé‡å¤çš„è¯ï¼Œä¼˜å…ˆè°ƒç”¨ç±»åˆ«çš„æ–¹æ³•ã€‚åŸç±»çš„çŠ¯æ³•ä¼šå¿½ç•¥ã€‚å°½é‡åˆ«è¿™æ ·&lt;/h3&gt;

&lt;h3 id=&quot;14ç»§æ‰¿å’Œç±»åˆ«&quot;&gt;1.4ç»§æ‰¿å’Œç±»åˆ«&lt;/h3&gt;

&lt;h3 id=&quot;141å…³äºç»§æ‰¿å’Œç±»åˆ«æˆ‘çš„ç†è§£æ˜¯å¦‚æœè¿™ä¸ªç±»æœ‰å¾ˆå¤šå­ç±»çš„æ—¶å€™åªéœ€è¦æ‰©å±•è¿™ä¸ªç±»ä¸å½±å“åˆ°åŸæœ‰çš„ä»£ç ç»§æ‰¿è¾ƒå¥½è¦æ˜¯ç´§ç´§æ‰©å±•æ–¹æ³•çš„è¯åˆ†ç±»æ›´å¥½&quot;&gt;1.4.1å…³äºç»§æ‰¿å’Œç±»åˆ«æˆ‘çš„ç†è§£æ˜¯å¦‚æœè¿™ä¸ªç±»æœ‰å¾ˆå¤šå­ç±»çš„æ—¶å€™ï¼Œåªéœ€è¦æ‰©å±•è¿™ä¸ªç±»ä¸å½±å“åˆ°åŸæœ‰çš„ä»£ç ç»§æ‰¿è¾ƒå¥½ï¼Œè¦æ˜¯ç´§ç´§æ‰©å±•æ–¹æ³•çš„è¯ï¼Œåˆ†ç±»æ›´å¥½ã€‚&lt;/h3&gt;
&lt;h3 id=&quot;142ç±»åˆ«ä¸»è¦æ˜¯é’ˆå¯¹ç³»ç»Ÿæä¾›çš„ä¸€äº›ç±»ç³»ç»Ÿæœ¬èº«æ˜¯ä¸æä¾›ç»§æ‰¿å»æ‰©å±•æ–¹æ³•çš„ç»§æ‰¿å­ç±»ç»§æ‰¿çˆ¶ç±»è€Œç±»åˆ«ä¸èƒ½æ‰©å±•å±æ€§runtimeå¯ä»¥æ–¹æ³•ä¹Ÿä¸èƒ½é‡å¤ä¸€æ—¦é‡å¤å°±ä¼šæ›¿æ¢åŸæœ‰çš„æ–¹æ³•æ²¡äº†&quot;&gt;1.4.2ç±»åˆ«ä¸»è¦æ˜¯é’ˆå¯¹ç³»ç»Ÿæä¾›çš„ä¸€äº›ç±»ï¼Œç³»ç»Ÿæœ¬èº«æ˜¯ä¸æä¾›ç»§æ‰¿å»æ‰©å±•æ–¹æ³•çš„ã€‚ç»§æ‰¿å­ç±»ç»§æ‰¿çˆ¶ç±»ï¼Œè€Œç±»åˆ«ä¸èƒ½æ‰©å±•å±æ€§(runtimeå¯ä»¥)ï¼Œæ–¹æ³•ä¹Ÿä¸èƒ½é‡å¤ï¼Œä¸€æ—¦é‡å¤ã€‚å°±ä¼šæ›¿æ¢åŸæœ‰çš„æ–¹æ³•ã€‚æ²¡äº†&lt;/h3&gt;
&lt;hr /&gt;
&lt;h1 id=&quot;2æ‰©å±•&quot;&gt;2.æ‰©å±•&lt;/h1&gt;

&lt;h1 id=&quot;æ‰©å±•æ˜¯ç±»åˆ«çš„ä¸€ç§ç‰¹ä¾‹ä¹Ÿæ˜¯åŒ¿åç±»å¯ä»¥å£°æ˜å±æ€§å’Œæ–¹æ³•å£°æ˜çš„æ–¹æ³•è¦å®ç°&quot;&gt;æ‰©å±•æ˜¯ç±»åˆ«çš„ä¸€ç§ç‰¹ä¾‹ã€‚ä¹Ÿæ˜¯åŒ¿åç±»ï¼Œå¯ä»¥å£°æ˜å±æ€§å’Œæ–¹æ³•ï¼Œå£°æ˜çš„æ–¹æ³•è¦å®ç°&lt;/h1&gt;

&lt;h3 id=&quot;21å…ˆæµ‹è¯•ç»™vcåŠ extension&quot;&gt;2.1å…ˆæµ‹è¯•ç»™VCåŠ Extension&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;http://ac-l1vX02tC.clouddn.com/8fe3dce41b2b974be9fd.png&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;http://ac-l1vX02tC.clouddn.com/55f2357045a9e0e3a59b.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
&lt;h3 id=&quot;å®ç°æ–¹æ³•1å°±æ˜¯ä¸Šé¢çš„é‚£ä¸€ç§å»ºç«‹ä¸€ä¸ªextensionhæ–‡ä»¶ç„¶åå£°æ˜&quot;&gt;å®ç°æ–¹æ³•1.å°±æ˜¯ä¸Šé¢çš„é‚£ä¸€ç§ï¼Œå»ºç«‹ä¸€ä¸ªExtension.hæ–‡ä»¶ç„¶åå£°æ˜&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;#import&quot;ViewController.h&quot;

@interfaceViewController ()

@property(nonatomic,copy) NSString * vcExten;

- (void)test;

@end
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;- (void)viewDidLoad {

[self test];

//æ‰©å±•åœ¨ViewDidLoadé‡Œé¢å®ç°å¹¶è°ƒè¯•

self.vcExten=@&quot;exten&quot;;

NSLog(@&quot;====use exten ==%@&quot;,self.vcExten);

}

- (void)test

{

NSLog(@&quot;extension===&quot;);

}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;å®ç°æ–¹æ³•2å°±æ˜¯ä¸Šé¢çš„é‚£ä¸€ç§å»ºç«‹ä¸€ä¸ªextensionhæ–‡ä»¶ç„¶åå£°æ˜&quot;&gt;å®ç°æ–¹æ³•2.å°±æ˜¯ä¸Šé¢çš„é‚£ä¸€ç§ï¼Œå»ºç«‹ä¸€ä¸ªExtension.hæ–‡ä»¶ç„¶åå£°æ˜&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;#import&quot;ViewController.h&quot;

#import&quot;ViewController+NSLog.h&quot;

#import&quot;ViewController_VCExten.h&quot;

è¿™ä¸ª@interface ......@endæœ¬èº«å°±æ˜¯æ‰©å±•

@interfaceViewController()

@end

@implementationViewController

- (void)viewDidLoad {

[superviewDidLoad];



}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/dslcoding/Category-Extension&quot;&gt;ç›¸å…³demo&lt;/a&gt;&lt;/p&gt;</content><summary type="html">ä½¿ç”¨ç±»åˆ«(Category)å’Œæ‰©å±•(Extension)</summary></entry><entry><title type="html">å¼€å‘éšæ‰‹è®°(äºŒ)</title><link href="/iOS-note2/" rel="alternate" type="text/html" title="å¼€å‘éšæ‰‹è®°(äºŒ)" /><published>2017-04-01T11:59:21+08:00</published><updated>2017-04-01T11:59:21+08:00</updated><id>/iOS-note2</id><content type="html" xml:base="/iOS-note2/">&lt;h1 id=&quot;å¼€å‘éšæ‰‹è®°äºŒ&quot;&gt;å¼€å‘éšæ‰‹è®°(äºŒ)&lt;/h1&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;åœ¨é¡¹ç›®ä¸­ç§¯ç´¯ä¸­çš„é”™è¯¯&quot;&gt;åœ¨é¡¹ç›®ä¸­ç§¯ç´¯ä¸­çš„é”™è¯¯&lt;/h1&gt;

&lt;p&gt;1.ld: canâ€™t link with a main executable file â€˜/Users/apple/Library/Developer/Xcode/DerivedData/LePaiDemo-ftsuwgzvjdjwzghgkuefbzvdkvey/Build/Products/Debug-iphoneos/LePaiDemo.app/LePaiDemoâ€™ for architecture armv7clang: error: unable to execute command: Segmentation fault: 11clang: error: linker command failed due to signal (use -v to see invocation)
  &lt;img src=&quot;http://ac-l1vX02tC.clouddn.com/32763884c73603e8276e.png&quot; alt=&quot;&quot; /&gt;
    æŠŠArchitecturesçš„debugæ”¹ä¸ºNOå°±å¯ä»¥&lt;/p&gt;

&lt;p&gt;2.Code Sign error: Provisioning profile does not match bundle identifier: The provisioning profile specified in your build settings (â€œColorKey Distributionâ€) has an AppID of â€œcom.iAppsLLC.ColorKeyâ€ which does not match your bundle identifier â€œ com.iAppsLLC.ColorKey.MyKeyBoardâ€.
è§£å†³æ–¹æ³•æ˜¯ï¼šåœ¨build Settings é‡Œæœ‰ä¸€é¡¹ Packagingé¡¹  é‡Œè¾¹æœ‰ä¸ªProduct Bundle Identifier  éœ€è¦ä¸plistæ–‡ä»¶é‡Œçš„Bundle Identifier ä¿æŒä¸€è‡´ã€‚æœ€åä¿®æ”¹å®Œæˆä»¥åcleanä¸€ä¸‹å……è·‘å§ã€‚å¦‚æœè¯ä¹¦ï¼ŒApp ID ï¼Œä»¥åŠæè¿°æ–‡ä»¶æ²¡æœ‰è®¾ç½®é”™è¯¯ï¼Œé‚£å°±åº”è¯¥æ²¡æœ‰é—®é¢˜äº†ã€‚&lt;/p&gt;

&lt;p&gt;3.å› ä¸ºæœ‰äº›ç¬¬ä¸‰æ–¹åº“ä¸æ”¯æŒbitcodeã€‚ å…³é—­BItcode&lt;/p&gt;</content><summary type="html">å¼€å‘éšæ‰‹è®°(äºŒ)</summary></entry><entry><title type="html">å…³äºToday Extension</title><link href="/today-extension/" rel="alternate" type="text/html" title="å…³äºToday Extension" /><published>2016-09-02T11:59:21+08:00</published><updated>2016-09-02T11:59:21+08:00</updated><id>/today-extension</id><content type="html" xml:base="/today-extension/">&lt;h1 id=&quot;å…³äºtoday-extension&quot;&gt;å…³äºToday Extension&lt;/h1&gt;

&lt;p&gt;ç¬¬ä¸€æ¬¡å†™ExtensionåŠŸèƒ½ï¼Œä¸‹é¢æ˜¯æˆ‘çš„ä¸€äº›æ­¥éª¤ã€‚è¿™æ˜¯å¯¹&lt;a href=&quot;https://developer.apple.com/library/content/documentation/General/Conceptual/ExtensibilityPG/&quot;&gt;iOS App Extension Programming Guide&lt;/a&gt;çš„é“¾æ¥ã€‚&lt;/p&gt;

&lt;p&gt;æ•ˆæœå›¾
 &lt;img src=&quot;http://ac-l1vX02tC.clouddn.com/96a2456ba7b86754dd5f.gif&quot; alt=&quot;1.æ•ˆæœå›¾&quot; /&gt;
 æœ€è¿‘å†™äº†ä¸€ä¸ªappéœ€è¦ç”¨åˆ°appæ‰©å±•(App Extension)ï¼Œæœ¬æ¬¡ä¸»è¦è®²çš„æ˜¯TodayExtensionè¿™ä¸ªæ‰©å±•ï¼Œ&lt;a href=&quot;https://developer.apple.com/library/content/documentation/General/Conceptual/ExtensibilityPG/Today.html&quot;&gt;å…³äºToadyçš„å®˜æ–¹ä»‹ç»è‡ªå·±å…ˆçœ‹&lt;/a&gt;ï¼ŒåºŸè¯ä¸å¤šè¯´ç›´æ¥å†™ä»£ç ï¼Œæ—¢ç„¶å†™äº†é‚£å°±ä»ç”³è¯·appIDå¼€å§‹ï¼š&lt;/p&gt;
&lt;h1 id=&quot;1å…ˆæ–°å»ºä¸€ä¸ªé¡¹ç›®&quot;&gt;1.å…ˆæ–°å»ºä¸€ä¸ªé¡¹ç›®&lt;/h1&gt;
&lt;h3 id=&quot;2ç”³è¯·id&quot;&gt;2.ç”³è¯·IDï¼š&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;http://ac-l1vX02tC.clouddn.com/7f3efb74e794561cdf4d.png&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;http://ac-l1vX02tC.clouddn.com/80b8867cba66a1929a0f.png&quot; alt=&quot;&quot; /&gt;
ç„¶åç‚¹å‡»æ³¨å†Œå®Œæˆï¼›&lt;/p&gt;
&lt;h3 id=&quot;3ç”³è¯·app-groups&quot;&gt;3.ç”³è¯·App Groups&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;http://ac-l1vX02tC.clouddn.com/1cb58b390dbb5deb4c54.png&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;http://ac-l1vX02tC.clouddn.com/7275b2a6a7bdb69170c3.png&quot; alt=&quot;&quot; /&gt;
ç„¶åç‚¹å‡»ç»§ç»­æŒ‰é’®ï¼Œåœ¨ç‚¹å‡»æ³¨å†Œï¼Œå°±ä¼šå‡ºç°ä»¥ä¸‹ç•Œé¢
&lt;img src=&quot;http://ac-l1vX02tC.clouddn.com/ee405194982e3324bdaf.png&quot; alt=&quot;&quot; /&gt;
å»iOSAppIDSè¿™ä¸ªç•Œé¢æ‰¾åˆ°Nameä¸ºï¼šBlobBlobWidgetçš„IDï¼Œç‚¹å‡»ç¼–è¾‘
ç„¶å
&lt;img src=&quot;http://ac-l1vX02tC.clouddn.com/76f3046f289180ed7307.png&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;http://ac-l1vX02tC.clouddn.com/caad348a05a49cd01ab5.png&quot; alt=&quot;&quot; /&gt;
ç‚¹å‡»assignå°±å¯ä»¥äº†&lt;/p&gt;
&lt;h3 id=&quot;4æ‰¾åˆ°idå‘ç°ä¸‹é¢éƒ½å˜ç»¿è¯´æ˜é…ç½®æˆåŠŸäº†å¦‚æœä¸æ˜¯çš„è¯ä¼°è®¡ä½ å¾—é‡å¤åœ¨æ¥ä¸€æ¬¡&quot;&gt;4.æ‰¾åˆ°IDå‘ç°ä¸‹é¢éƒ½å˜ç»¿è¯´æ˜é…ç½®æˆåŠŸäº†ï¼Œå¦‚æœä¸æ˜¯çš„è¯ï¼Œä¼°è®¡ä½ å¾—é‡å¤åœ¨æ¥ä¸€æ¬¡&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;http://ac-l1vX02tC.clouddn.com/c75d1f73f2e4dce09b9c.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
&lt;h1 id=&quot;2å¼€å§‹ä»£ç é¡¹ç›®ä¸­çš„é…ç½®&quot;&gt;2.å¼€å§‹ä»£ç é¡¹ç›®ä¸­çš„é…ç½®&lt;/h1&gt;
&lt;h3 id=&quot;21æ–°å»ºæ‰©å±•&quot;&gt;2.1æ–°å»ºæ‰©å±•&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;http://ac-l1vX02tC.clouddn.com/cb99dbd24f51d209b728.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
&lt;h3 id=&quot;22å…ˆé…ç½®general&quot;&gt;2.2å…ˆé…ç½®General&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;http://ac-l1vX02tC.clouddn.com/70afb2a17787624f1467.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
&lt;h3 id=&quot;23åœ¨é…ç½®capabilities&quot;&gt;2.3åœ¨é…ç½®Capabilities&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;http://ac-l1vX02tC.clouddn.com/b9e3044909cad2ef2d2a.png&quot; alt=&quot;&quot; /&gt;
å¥½äº†ä»¥ä¸Šæ˜¯å®¿ä¸»appä¹Ÿå°±æ˜¯ä¸»appé…ç½®å®Œæˆã€‚&lt;/p&gt;
&lt;h1 id=&quot;6ä¸‹é¢é…ç½®todayextension&quot;&gt;6.ä¸‹é¢é…ç½®TodayExtension&lt;/h1&gt;
&lt;h3 id=&quot;61é…ç½®general&quot;&gt;6.1é…ç½®General&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;http://ac-l1vX02tC.clouddn.com/34945dd01ed65a48043d.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
&lt;h3 id=&quot;62é…ç½®capabilities&quot;&gt;6.2é…ç½®Capabilities&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;http://ac-l1vX02tC.clouddn.com/90631f921812fc0525ee.png&quot; alt=&quot;&quot; /&gt;
ä»¥ä¸Šéƒ½é…ç½®å®Œäº†è¿è¡Œä»¥ä¸‹ï¼Œæ­£å¸¸äº†å°±æ˜¯æ­£å¸¸çš„ï¼Œä¸æ­£å¸¸å°±æ˜¯ä¸æ­£å¸¸äº†ï¼Œé¡ºä¾¿è‡ªå·±çœ‹çœ‹å“ªé‡Œå‡ºçš„é—®é¢˜ï¼Œbugåœ¨å“ªé‡Œè‡ªå·±å¿ƒé‡Œæœ€æ¸…æ¥šï¼Œåˆ«äººéƒ½æ˜¯çˆ±è«èƒ½åŠ©å•Šã€‚&lt;/p&gt;
&lt;h1 id=&quot;7å…³äºè°ƒè¯•&quot;&gt;7.å…³äºè°ƒè¯•&lt;/h1&gt;
&lt;p&gt;åœ¨è°ƒè¯•çš„æ—¶å€™xcodeä¼šå¼¹å‡ºä¸€ä¸ªè°ƒè¯•æ¡†æ¡†ï¼Œè®©ä½ é€‰æ‹©ä¸€ä¸ªä¸»APPã€‚ä¸»APPå°±æ˜¯è¦é€‰æ‹©ä½ å»ºç«‹çš„APPï¼›ä¸çŸ¥é“çœ‹æ‡‚æ²¡æœ‰ã€‚&lt;/p&gt;
&lt;h1 id=&quot;8æ•°æ®çš„å…±äº«&quot;&gt;8æ•°æ®çš„å…±äº«&lt;/h1&gt;

&lt;h3 id=&quot;81é€šè¿‡ç”¨nsuserdefaultså…±äº«æ•°æ®&quot;&gt;8.1é€šè¿‡ç”¨NSUserDefaultså…±äº«æ•°æ®&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;å­˜å‚¨ï¼š

#pragma markå­˜å‚¨data

- (void)saveData:(UITextField*)TF{

NSUserDefaults* defaults = [[NSUserDefaultsalloc]initWithSuiteName:@&quot;group.DSLBlobWidget&quot;];

[defaultssetObject:TF.textforKey:@&quot;DSL&quot;];

[defaultssynchronize];

}
è·å–ï¼š

#pragma markä»appé‚£é‡ŒåŠ è½½æ•°æ®ä»¥ä¾¿è¾¾åˆ°æ•°æ®å…±äº«çš„ç›®çš„

- (NSString*)getDatafromMainAPP{

NSUserDefaults*defaults = [[NSUserDefaultsalloc]initWithSuiteName:@&quot;group.DSLBlobWidget&quot;];

return[defaultsobjectForKey:@&quot;DSL&quot;];

}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;82é€šè¿‡nsfilemangerå­˜å›¾ç‰‡&quot;&gt;8.2é€šè¿‡NSFileMangerå­˜å›¾ç‰‡&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;//copy image to Library

- (void)copyImageToLibrary{

NSString * path = [[NSBundle mainBundle]pathForResource:@&quot;DSL.png&quot; ofType:nil];

NSFileManager * manger = [NSFileManager defaultManager];

NSString * documentPath = [NSHomeDirectory() stringByAppendingPathComponent:@&quot;/Library/Caches/DSL.png&quot;];

NSLog(@&quot;%@&quot;,documentPath);

NSError * error = nil;

if (path != nil) {

if (![manger fileExistsAtPath:documentPath]) {

[manger copyItemAtPath:path toPath:documentPath error:&amp;amp;error];

if (error) {

NSLog(@&quot;==copy error==%@&quot;,[error

localizedDescription]);

}

}

}else{

NSLog(@&quot;sourcePath is nil&quot;);

}

[self copyImage];

}

#pragma markä»appé‚£é‡ŒåŠ è½½æ•°æ®ä»¥ä¾¿è¾¾åˆ°æ•°æ®å…±äº«çš„ç›®çš„ï¼ˆNSFileManger å­˜å›¾ç‰‡ï¼‰

- (void)copyImage{

NSError * error = nil;

NSURL * contentURL = [[NSFileManager defaultManager]containerURLForSecurityApplicationGroupIdentifier:@&quot;group.DSLBlobWidget&quot;];

NSString * newPath = [contentURL URLByAppendingPathComponent:@&quot;/Library/Caches/DSL.png&quot;].path;

[[NSFileManager

defaultManager]copyItemAtPath:[NSHomeDirectory()

stringByAppendingPathComponent:@&quot;/Library/Caches/DSL.png&quot;]

toPath:newPath error:&amp;amp;error];

if (error) {

NSLog(@&quot;copy error==%@&quot;,[error localizedDescription]);

}

}
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&quot;9ä»£ç çš„å…±äº«&quot;&gt;9.ä»£ç çš„å…±äº«&lt;/h1&gt;

&lt;h3 id=&quot;91ç¬¬ä¸€æ­¥å’Œåˆ›å»ºapp-extensionä¸€æ ·new-targeté€‰æ‹©cocoa-touch-frameworkæ¥åˆ›å»ºframework&quot;&gt;9.1ç¬¬ä¸€æ­¥ï¼šå’Œåˆ›å»ºAPP Extensionä¸€æ ·ï¼ŒNew-&amp;gt;Targetï¼Œé€‰æ‹©Cocoa Touch Frameworkæ¥åˆ›å»ºframework&lt;/h3&gt;

&lt;h3 id=&quot;92ç¬¬äºŒéƒ¨èµ·åå­—æˆ‘çš„èµ·çš„åå­—æ˜¯dslwidgetframework&quot;&gt;9.2ç¬¬äºŒéƒ¨ï¼šèµ·åå­—ï¼Œæˆ‘çš„èµ·çš„åå­—æ˜¯DSLWidgetFramework&lt;/h3&gt;

&lt;h3 id=&quot;93&quot;&gt;9.3&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;http://ac-l1vX02tC.clouddn.com/02a4f537451a8f98f257.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
&lt;h1 id=&quot;10åœ¨app-extensionä¸­ä¸èƒ½ä½¿ç”¨çš„api&quot;&gt;10.åœ¨APP Extensionä¸­ä¸èƒ½ä½¿ç”¨çš„API&lt;/h1&gt;
&lt;h3 id=&quot;101-access-a-sharedapplication-object-and-so-cannot-use-any-of-the-methods-on-that-object&quot;&gt;10.1 Access a sharedApplication object, and so cannot use any of the methods on that object&lt;/h3&gt;
&lt;p&gt;ä¸èƒ½è·å–sharedApplicationå¯¹è±¡&lt;/p&gt;

&lt;h3 id=&quot;102use-any-api-marked-in-header-files-with-thens_extension_unavailablemacro-or-similar-unavailability-macro-or-any-api-in-an-unavailable-frameworkfor-example-in-ios-80-the-healthkit-framework-and-eventkit-ui-framework-are-unavailable-to-app-extensions&quot;&gt;10.2Use any API marked in header files with theNS_EXTENSION_UNAVAILABLEmacro, or similar unavailability macro, or any API in an unavailable frameworkï¼ŒFor example, in iOS 8.0, the HealthKit framework and EventKit UI framework are unavailable to app extensions.&lt;/h3&gt;

&lt;p&gt;ä¸èƒ½ä½¿ç”¨APIçš„æ ‡å¿—æ€§å¤´æ–‡ä»¶ å’Œ theNS_EXTENSION_UNAVAILABLE å®å®šä¹‰ï¼Œè¿˜æœ‰ä¸€äº›ä¸èƒ½ç”¨çš„æ¡†æ¶API,ä¾‹å¦‚HealthKit framework and EventKit UI frameworkã€‚&lt;/p&gt;

&lt;h3 id=&quot;103access-the-camera-or-microphone-on-an-ios-device-an-imessage-app-unlike-other-app-extensions-does-have-access-to-these-resources-as-long-as-it-correctly-configures-thenscamerausagedescriptionandnsmicrophoneusagedescriptioninfoplistkeys&quot;&gt;10.3Access the camera or microphone on an iOS device (an iMessage app, unlike other app extensions, does have access to these resources, as long as it correctly configures theNSCameraUsageDescriptionandNSMicrophoneUsageDescriptionInfo.plistkeys)&lt;/h3&gt;

&lt;p&gt;ä¸èƒ½è·å–éº¦å…‹é£å’Œç…§ç›¸æœºçš„æƒé™(iMessage ä¸åŒäºå…¶å®ƒçš„åº”ç”¨æ‰©å±•ï¼Œåªè¦é…ç½®ç›¸å…³çš„åº”ç”¨æƒé™å°±å¯ä»¥ç›´æ¥ä½¿ç”¨äº†)&lt;/p&gt;

&lt;h3 id=&quot;104perform-long-running-background-tasks&quot;&gt;10.4Perform long-running background tasks&lt;/h3&gt;

&lt;p&gt;ä¸èƒ½é•¿æœŸçš„åœ¨åå°è¿è¡Œ&lt;/p&gt;

&lt;h3 id=&quot;105receive-data-using-airdrop&quot;&gt;10.5Receive data using AirDrop&lt;/h3&gt;

&lt;p&gt;ä¸èƒ½ä½¿ç”¨AirDropæ¥æ”¶ç›¸å…³çš„æ•°æ®&lt;/p&gt;

&lt;p&gt;ä»¥ä¸Šä¸ªäººç¿»è¯‘ï¼Œå»ºè®®&lt;a href=&quot;https://developer.apple.com/library/content/documentation/General/Conceptual/ExtensibilityPG/ExtensionOverview.html#//apple_ref/doc/uid/TP40014214-CH2-SW6&quot;&gt;æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;11-todayextensionçš„è¿›å…¥è®¾ç½®çš„å¿«æ·æ–¹å¼&quot;&gt;11 .TodayExtensionçš„è¿›å…¥è®¾ç½®çš„å¿«æ·æ–¹å¼&lt;/h1&gt;
&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;//æ‰“å¼€Wi-Fi

[self.extensionContextopenURL:[NSURLURLWithString:@&quot;Prefs:root=WIFI&quot;]completionHandler:^(BOOLsuccess) {

}];
//æ‰“å¼€èœ‚çªç½‘ç»œ

[self.extensionContextopenURL:[NSURLURLWithString:@&quot;Prefs:root=MOBILE_DATA_SETTINGS_ID&quot;]completionHandler:^(BOOLsuccess) {

}];
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cyanzhong/app-tutorials/blob/master/prefs.md&quot;&gt;æ›´å¤šæ–¹å¼è¯·ç‚¹å‡»è¿™é‡Œ,è¯·å°½é‡æŒ‰ç…§ä»¥ä¸Šæ–¹å¼é¿å…è¢«æ‹’ç».&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;12ä¸ä¸»appçš„äº¤äº’&quot;&gt;12.ä¸ä¸»APPçš„äº¤äº’&lt;/h1&gt;
&lt;p&gt;&lt;img src=&quot;http://ac-l1vX02tC.clouddn.com/9b23ab7bdf2069aa01df.png&quot; alt=&quot;&quot; /&gt;
åœ¨æ‰©å±•ä¸­çš„ä»£ç ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;- (void)OpenAcstion{

[self.extensionContextopenURL:[NSURLURLWithString:@&quot;DSLTodayWidget://SecondVC&quot;]completionHandler:^(BOOLsuccess) {

}];

}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨ä¸»APPä¸­çš„ä»£ç ï¼š
AppDelegate&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;- (BOOL)application:(UIApplication*)app openURL:(NSURL*)url options:(NSDictionary *)options

{

NSLog(@&quot;=====%@&quot;,url.scheme);

NSLog(@&quot;===%@===%@&quot;,url.host,url.absoluteString);

if([url.absoluteStringhasPrefix:@&quot;DSLTodayWidget&quot;]) {

if([url.hostisEqualToString:@&quot;SecondVC&quot;]) {

//åˆ¤æ–­æ˜¯å¦æ˜¯ç›´æ¥è·³å…¥åˆ°æ·»åŠ é¡µé¢

//self.window.rootViewController = [[SecondVC alloc]init];

UIViewController*rootNav = (UIViewController*)self.window.rootViewController;

[rootNavpresentViewController:[[SecondVCalloc]init]animated:YEScompletion:nil];

}

}

returnYES;

}
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&quot;13æŠ˜å ä¸å±•å¼€&quot;&gt;13.æŠ˜å ä¸å±•å¼€&lt;/h1&gt;

&lt;h3 id=&quot;131é¦–å…ˆæŠ˜å ä¸å±•å¼€åªæœ‰ios10æ‰æœ‰æ‰€ä»¥å…ˆè¦åˆ¤æ–­ç³»ç»Ÿçš„ç‰ˆæœ¬&quot;&gt;13.1é¦–å…ˆæŠ˜å ä¸å±•å¼€åªæœ‰iOS10æ‰æœ‰ï¼Œæ‰€ä»¥å…ˆè¦åˆ¤æ–­ç³»ç»Ÿçš„ç‰ˆæœ¬&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;if ([[UIDevice currentDevice].systemVersion integerValue]&amp;gt;=10) {

self.extensionContext.widgetLargestAvailableDisplayMode = NCWidgetDisplayModeExpanded;

}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç„¶åå®ç°åè®®ï¼Œç‚¹å‡»å±•å¼€æˆ–è€…æ˜¯æŠ˜å ä¼šè§¦å‘è¿™ä¸ªåè®®å°±æ˜¯NCWidgetProvidingåè®®&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;- (void)widgetActiveDisplayModeDidChange:(NCWidgetDisplayMode)activeDisplayMode withMaximumSize:(CGSize)maxSize

{

//    NCWidgetDisplayModeCompact, // Fixed height

//    NCWidgetDisplayModeExpanded,

if (activeDisplayMode == NCWidgetDisplayModeCompact ) {

//é«˜åº¦æœ€ä½ä¸º110

self.preferredContentSize = CGSizeMake([UIScreen mainScreen].bounds.size.width ,110);

}else{

//å› ä¸ºæœºå­å‹å·ä¸ä¸€æ ·æ‰€ä»¥æœ€å¤§æå¤šå¯èƒ½ä¸ä¸€æ ·ï¼Œè¿™é‡Œè®¾ç½®æœ€å¤§

self.preferredContentSize = CGSizeMake([UIScreen mainScreen].bounds.size.width ,MAXFLOAT);

}

}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;é™¤äº†ä¸Šé¢çš„åè®®å¤–è¿˜æœ‰ä¸€ä¸ªåè®®å°±æ˜¯æ›´æ–°æ‰©å±•UIç•Œé¢çš„åè®®&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;è¯¥åè®®çš„å…·ä½“ç”¨æ³•ï¼Œæˆ‘æ²¡æœ‰æ¢ç©¶ï¼Œéœ€è¦æ›´æ–°è¿™ä¸ªç•Œé¢çš„æ—¶å€™å°±åœ¨è¿™æ–¹æ³•é‡Œé¢å†™

- (void)widgetPerformUpdateWithCompletionHandler:(void (^)(NCUpdateResult))completionHandler {

// Perform any setup necessary in order to update the view.

// If an error is encountered, use NCUpdateResultFailed

// If there's no update required, use NCUpdateResultNoData

// If there's an update, use NCUpdateResultNewData

completionHandler(NCUpdateResultNewData);

}
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&quot;14å…³äºä½¿ç”¨storyboardæˆ–è€…æ˜¯ä»£ç &quot;&gt;14.å…³äºä½¿ç”¨StoryBoardæˆ–è€…æ˜¯ä»£ç &lt;/h1&gt;

&lt;h3 id=&quot;141ä½¿ç”¨stryboardå¦‚æœä½¿ç”¨è‡ªå·±å®šä¹‰çš„ç±»çš„storyboardçš„è¯éœ€è¦ä¿®æ”¹infoæ–‡ä»¶&quot;&gt;14.1ä½¿ç”¨StryBoardå¦‚æœä½¿ç”¨è‡ªå·±å®šä¹‰çš„ç±»çš„StoryBoardçš„è¯ï¼Œéœ€è¦ä¿®æ”¹infoæ–‡ä»¶&lt;/h3&gt;

&lt;h3 id=&quot;142&quot;&gt;14.2&lt;img src=&quot;http://ac-l1vX02tC.clouddn.com/c08223452b889dbf901b.png&quot; alt=&quot;&quot; /&gt;&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ä¸è¦å¿˜è®°åœ¨todayViewControllerçš„ViewDidLoadä¸­è®¾ç½®preferredContentSizeå±æ€§è°ƒæ•´å¤§å°ã€‚
14å…³äºä¸Šæ¶ï¼Œä¸Šæ¶çš„æ—¶å€™æ‰©å±•appä¸€å®šæ˜¯å•ç‹¬çš„appIDï¼Œä¸”å‘½åæ—¶æ¯”å¦‚ï¼šä¸»appIDæ˜¯com.DSLWidgeté‚£ä¹ˆæ‰©å±•appIDæ˜¯com.DSLWidget.widExtenè¿™æ ·å°½é‡æŒ‰ç…§è¿™ä¸ªæ ¼å¼æ¥ï¼Œä¸è¦é—®æˆ‘ä¸ºä»€ä¹ˆä¹‹å‰ä¸Šæ¶è¸©è¿‡çš„å‘&lt;/p&gt;

&lt;p&gt;æœ¬æ¬¡å…³äºToday Extensionä¹‹æ—…ç»“æŸã€‚éšåè¡¥å……ã€‚æœ‰é”™è¯·ç«‹å³é€šçŸ¥æˆ‘ï¼Œè°¢è°¢ã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://dslcoding.github.io/today-extension/&quot;&gt;dd&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;æˆ‘å«è‘£è¯—ç£Šæˆ‘å°±æ˜¯ä¸€ç å†œã€‚&lt;/p&gt;</content><summary type="html">å…³äºToday Extension</summary></entry></feed>
